<html>
    <meta charset="utf-8">
    <meta name="description" content="Pure js utility to upload images. Mountable on any element, compatible with any library/framework">
    <meta name="keywords" content="pure js, file upload, vanilla javascript, vanilla js, pure javascript">
    <meta property="og:site_name" content="FileUploader by Trishul" />
    <meta property="og:title" content="FileUploader by Trishul" />
    <meta property="og:type" content="product" />
    <meta property="og:url" content="https://tsl143.github.io/fileUploader/demo/" />
    <meta property="og:image" content="https://tsl143.github.io/fileUploader/demo/meta.png" />
    <meta property="og:description" content="Pure js utility to upload images. Mountable on any element, compatible with any library/framework" />
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:site" content="@trishulgoel"/>
    <meta name="twitter:creator" content="@trishulgoel"/>
    <meta name="twitter:image" content="https://tsl143.github.io/fileUploader/demo/meta.png" />
    <style>
        #imageUpload {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 150px;
            height: 150px;
            background: #b9b9b9;
            margin: auto
        }
        #result {
            display: block;
            margin: 20px auto;
            width: 200px;
        }
    </style>
    <body>
        <div id="imageUpload">
            <h3>Upload here</h3>
        </div>
        <pre id="result"></pre>
        <a href="https://github.com/tsl143/fileUploader">
            <img style="position: absolute; top: 0; right: 0; border: 0;" alt="Fork repo on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
        </a>
    </body>
    <script src="../dist/script.js"> </script>
    <script>
        const divv = new FileUpload({
            targetElement: 'imageUpload',
            vaildFiles: ['png','jpg','gif','txt'],
            onSuccess: onSuccess,
            onClose: jobDone,
            maxSize: 2,
            userData: 'catsPlz',
            debug: true
        })

        function onError(msg){
            console.log(msg)
            document.getElementById('result').textContent = ''
        }
        function jobDone(){
            console.log('Job Done')
        }

        function onSuccess(data) {
            if(data.dataUrl)
                delete data.dataUrl
            const prettyResponse = JSON.stringify(data,null,2)
            document.getElementById('result').textContent = prettyResponse
        }    
    </script>
</html>
